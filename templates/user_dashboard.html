<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Home</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <script src="{{ url_for('static', filename='jquery-3.6.0.js') }}"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename='user_dashboard.css') }}">
    <script src="{{ url_for('static', filename='user_dashboard.js') }}"></script>

</head>
<body class="fx fdc aifs">
    {% include 'partials/header_1.html' %}

    <button id="btn-create-request" onclick="$('#request-form').parent().toggleClass('active')" type="button">
        Create Request
    </button>

    <div id="full-popup" class="fx fdc jcc aic full-popup">
        <form id="request-form" class="fx fdc" method="post" action="/dashboard">
            <h2 class="fx-asc">create request</h2>

            <div class="fx">
                <span>Req Type: </span>
                <label>
                    <input type="radio" name="is_donate_req" value="1">
                    <span>Donate</span>
                </label>
                <label>
                    <input type="radio" name="is_donate_req" value="0">
                    <span>Receive</span>
                </label>
            </div>

            <label>
                <span>Qty: </span>
                <input type="text" name="req_qty_in_person" placeholder="In count of person">
            </label>

            <div class="fx fdc">
                <label for="cb_contact_details_same_as_user">
                    <input type="checkbox" name="contact_details_same_as_user" id="cb_contact_details_same_as_user">
                    <span>contact details same as user</span>
                </label>
                <input type="text" name="contact_phone" placeholder="Contact Phone">
                <textarea name="location_as_address" cols="30" rows="7" placeholder="Delivery Address"></textarea>
            </div>
            <input type="submit" value="Create">
        </form>
    </div>

    {% if payload.created %}
    <details id="open-list">
        <summary>Opened Requests</summary>
        {% for request in payload.created %}
            <span>{{ request.created_ts }}</span>
            <span>{{ request.req_qty_in_person }}</span>
        {% endfor %}
    </details>
    {% endif %}

    {% if payload.confirmed %}
    <details id="confirmed-list">
        <summary>Confirmed Requests</summary>
        {% for request in payload.confirmed %}
        <div class="row fx">
            <span>{{ request.created_ts }}</span>
            <span>{{ request.req_qty_in_person }}</span>
        </div>
        {% endfor %}
    </details>
    {% endif %}

    {% if payload.delivered %}
    <details id="delivered-list">
        <summary>Delivered Requests</summary>
        {% for request in payload.delivered %}
            <span>{{ request.created_ts }}</span>
            <span>{{ request.req_qty_in_person }}</span>
        {% endfor %}
    </details>
    {% endif %}

    {% if payload.reviewed %}
    <details id="reviewed-list">
        <summary>Reviewed Requests</summary>
        {% for request in payload.reviewed %}
            <span>{{ request.created_ts }}</span>
            <span>{{ request.req_qty_in_person }}</span>
        {% endfor %}
    </details>
    {% endif %}
</body>
</html>